"use strict";const t=require("fs"),e=t=>{const[r,i,...s]=t;return void 0===r?[]:void 0===i?[r]:r.endsWith("\\")?e([`${r.slice(0,-1)}${i}`,...s]):[r,...e([i,...s])]},r=(t,e)=>{if(e.startsWith("'")&&e.endsWith("'"))return e.slice(1,-1);const r=Object.entries(t).reduce(((t,[e,r])=>t.replaceAll(`$${e}`,r)),e),i=r.startsWith('"')?r.slice(1):r;return i.endsWith('"')?i.slice(0,-1):i},i=(t,e={})=>{if(0===t.length)return e;const[[s,n],...l]=t;return i(l,{...e,[s.trim()]:r(e,n.trim())})},s={async from(r){const s=(await t.promises.readFile(String(r))).toString().split("\n").map((t=>t.trim())),n=e(s).filter((t=>!t.startsWith("#"))).map((t=>t.split("="))).filter((t=>2===t.length));return i(n,{})}};module.exports={Environment:s};

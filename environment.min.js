"use strict";const t=require("fs"),e=t=>{const[r,s,...i]=t;return void 0===r?[]:void 0===s?[r]:r.endsWith("\\")?e([`${r.slice(0,-1)}${s}`,...i]):[r,...e([s,...i])]},r=(t,e)=>{if(e.startsWith("'")&&e.endsWith("'"))return e.slice(1,-1);const r=Object.entries(t).reduce(((t,[e,r])=>t.replaceAll(`$${e}`,r)),e),s=r.startsWith('"')?r.slice(1):r;return s.endsWith('"')?s.slice(0,-1):s},s=(t,e={})=>{if(0===t.length)return e;const[[i,n],...o]=t;return s(o,{...e,[i.trim()]:r(e,n.trim())})},i={async from(r){const i=(await t.promises.readFile(String(r))).toString().split("\n").map((t=>t.trim())),n=e(i).filter((t=>!t.startsWith("#"))).map((t=>t.split("="))).filter((t=>2===t.length));return s(n,{})}};null===module.parent&&void 0!==process.argv&&i.from(process.argv[2]).then((t=>{Object.entries(t).forEach((([t,e])=>{console.log(`${JSON.stringify(t)} ${JSON.stringify(e)}`)}))})).catch((t=>{console.error(t.message)})),module.exports={Environment:i};
